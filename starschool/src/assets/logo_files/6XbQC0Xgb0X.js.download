;/*FB_PKG_DELIM*/

__d("CheckmarkCircleFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 2a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8zm4.5 6.324-5.294 5.3a.752.752 0 0 1-1.061 0L5.5 10.972a.75.75 0 0 1 1.06-1.061l2.117 2.117 4.763-4.764a.75.75 0 0 1 1.06 1.06z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("DeferredDraftEditorDEPRECATED.react",["CometPlaintextEditor.react","SubscriptionsHandler","cr:2012305","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("requireDeferred")("DraftEditor.react").__setRef("DeferredDraftEditorDEPRECATED.react"),l=c("requireDeferred")("EditorState").__setRef("DeferredDraftEditorDEPRECATED.react"),m=c("requireDeferred")("getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE").__setRef("DeferredDraftEditorDEPRECATED.react"),n={root:{boxSizing:"x9f619",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function o(){return{DraftEditor:k.getModuleIfRequireable(),EditorState:l.getModuleIfRequireable(),getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE:m.getModuleIfRequireable()}}a=function(a){babelHelpers.inheritsLoose(d,a);function d(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=j.createRef(),e.$2=null,e.$3=j.createRef(),e.$4=new(c("SubscriptionsHandler"))(),e.$5=function(a){var b=e.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},e.$9=function(a){e.$8(a,e.$2),e.$2=a},e.$10=function(a){e.$1.current=a;a=a==null?void 0:a.editor;var b=e.props.onInputRefUpdate;b!=null&&b(a instanceof HTMLDivElement?a:null)},e.$6=function(){var a=e.props.editorState;if(a.__type!==d.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!d.richDependenciesAreMet())return;var b=o();b=b.getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE;if(b==null)return;var c=e.props,f=c.decorator;c=c.onStateChange;c&&c({__type:d.EDITOR_STATE,draftEditorState:b(a,f)})},e.onEditorStateChange=function(a){if(e.props.onStateChange!=null){var b=e.props.editorState;b.draftEditorState!==a&&e.props.onStateChange(b.__type===d.EDITOR_STATE?babelHelpers["extends"]({},b,{draftEditorState:a}):{__type:d.EDITOR_STATE,draftEditorState:a})}},e.onPlainTextChange=function(a){e.props.onStateChange&&e.props.onStateChange(a)},e.onPlaintextReturn=function(a){e.props.handleReturn&&e.props.handleReturn(a)},b)||babelHelpers.assertThisInitialized(e)}d.richDependenciesAreMet=function(){var a=o();for(var b in a)if(a[b]==null)return!1;return!0};d.createEmptyComposerState=function(){var a=o();a=a==null?void 0:a.EditorState;return a!=null&&d.richDependenciesAreMet()?{__type:d.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:d.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var e=d.prototype;e.componentDidMount=function(){var a=this.props.autoFocus;!d.richDependenciesAreMet()?this.$4.addSubscriptions(k.onReady(this.$6),l.onReady(this.$6),m.onReady(this.$6)):this.$6();a===!0&&this.focusEnd()};e.focus=function(){this.$3.current!=null?this.$3.current.focus():this.$1.current!=null&&this.$1.current.focus()};e.focusEnd=function(){if(this.$3.current!=null)this.$3.current.focusEnd();else if(this.$1.current!=null){var a=l.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};e.componentDidUpdate=function(a){this.$6();if(a.typingPerformanceAnnotations!==this.props.typingPerformanceAnnotations){a=this.$2;a&&(this.$7(),this.$8(a))}};e.$8=function(a,c){if(b("cr:2012305")===null||a==null)return;var d=this.props,e=d.blockStyleFn;d=d.typingPerformanceAnnotations;d=babelHelpers["extends"]({},d,{editor:"DraftjsEditor",format:e!=null?"RichText":"PlainText"});b("cr:2012305").trackTypingPerf(a,(e=this.props.typingPerformanceID)!=null?e:"DeferredDraftEditorDEPRECATED",c,d)};e.componentWillUnmount=function(){this.$4.release(),this.$7()};e.$7=function(){var a=this.$2;a&&b("cr:2012305")&&b("cr:2012305").unregisterTypingPerf(a)};e.render=function(){var a=o();a=a==null?void 0:a.DraftEditor;var b=this.props,e=b.editorState;b=babelHelpers.objectWithoutPropertiesLoose(b,["editorState"]);if(a&&e.__type===d.EDITOR_STATE)return j.jsx("div",{className:(h||(h=c("stylex")))(n.root,this.props.xstyle),children:j.jsx(a,babelHelpers["extends"]({},b,{editorRef:this.$9,editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,placeholderClassName:h(this.props.placeholderXStyle),ref:this.$10,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))});else if(e.__type===d.EDITOR_STATE)throw k.load();else if(e.__type===d.PLAIN_TEXT)return j.jsx("div",{className:(h||(h=c("stylex")))(n.root,this.props.xstyle),children:j.jsx(c("CometPlaintextEditor.react"),{"aria-labelledby":this.props.ariaLabelledBy,editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$5,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,placeholderXStyle:this.props.placeholderXStyle,ref:this.$3,testid:void 0})})};return d}(j.PureComponent);a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text";g["default"]=a}),98);
__d("EmojiInputDecorator",["EmojiRenderer","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=".",i="emoji";a=function(){function a(a,b,c){this.__installedDecorators={emojiDecorator:!0},this.$1=a,this.$2=b,this.$3=c,b&&Object.assign(this.__installedDecorators,b.__installedDecorators)}var b=a.prototype;b.getDecorations=function(a,b){var e=this.$2?this.$2.getDecorations(a,b).toArray():Array(a.getText().length).fill(null),f=0;d("EmojiRenderer").parse(a.getText()).forEach(function(a){var b=a.offset;a=b+a.length;var c=!0;for(var d=b;d<a;d++)if(e[d]!=null){c=!1;break}if(c){for(d=b;d<a;d++)e[d]=i+h+f;f++}});return c("immutable").List(e)};b.getComponentForKey=function(a){return!this.$2||a.split(h)[0]===i?this.$1:this.$2.getComponentForKey(a)};b.getPropsForKey=function(a){return!this.$2||a.split(h)[0]===i?this.$3:this.$2.getPropsForKey(a)};return a}();g["default"]=a}),98);
__d("EmojiSpan.react",["cx","FBEmojiResource","UnicodeUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||d("react");function a(a){var b=a.children;a.contentState;var e=a.decoratedText,f=a.dir,g=a.offsetKey;a=a.size;var h=0,i=e.length,l=[];while(h<i){var m=(j||(j=d("UnicodeUtils"))).getUTF16Length(e,h);l.push(e.substr(h,m));h+=m}m=c("FBEmojiResource").fromCodepoints(l);h=m!=null?m.getImageURL(a):null;return h!=null?k.jsx("span",{className:"_3gl1 _5zz4","data-offset-key":g,"data-testid":void 0,dir:f,style:{backgroundImage:"url("+h+")",backgroundSize:a+"px "+a+"px",height:a,width:a},children:k.jsx("span",{className:"_ncl",children:b})}):k.jsx("span",{"data-offset-key":g,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWStoryReplyDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWStoryReply").__setRef("MAWStoryReplyDeferred");b=a;g["default"]=b}),98);
__d("StickersFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M101.41 208.522a.75.75 0 0 1-.972.427c-1.192-.464-2.114-1.206-2.596-2.09a.75.75 0 1 1 1.316-.719c.314.574.961 1.075 1.824 1.411a.75.75 0 0 1 .427.971M97 202.25a1.251 1.251 0 0 1 2.5 0 1.251 1.251 0 0 1-2.5 0m8.75-2.75a1.251 1.251 0 0 1 0 2.5 1.251 1.251 0 0 1 0-2.5m-3.074 10.849c.153-3.18 2.792-7.033 5.881-8.587 1.543-.776 2.342-1.837 2.443-3.212l-.215-1.21c-.39-2.193-2.499-3.665-4.707-3.279l-10.216 1.787a4.04 4.04 0 0 0-2.634 1.675 3.995 3.995 0 0 0-.664 3.011l1.8 10.125c.347 1.958 2.067 3.341 4 3.341.233 0 .47-.02.706-.062l.635-.11c1.8-.596 2.892-1.847 2.97-3.48",transform:"translate(354 156)"}),i.jsx("path",{d:"M109.26 203.174c-2.618 1.288-4.94 4.573-5.068 7.173a4.783 4.783 0 0 1-.946 2.653c2.508-.721 4.675-2.23 6.19-4.35a10.91 10.91 0 0 0 2.033-7.15c-.54.653-1.277 1.215-2.21 1.674",transform:"translate(354 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("StickersOutline16.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -592)",children:i.jsxs("g",{children:[i.jsx("path",{fillRule:"nonzero",d:"m101.944 403.546-2.292.406a3.16 3.16 0 0 1-3.66-2.571l-1.443-8.213a3.168 3.168 0 0 1 2.562-3.671l8.184-1.448a3.16 3.16 0 0 1 3.66 2.57l.404 2.3c.878 4.989-2.442 9.747-7.415 10.627zm-.019-1.014c4.342-.854 7.222-5.046 6.45-9.44l-.404-2.3a2.16 2.16 0 0 0-2.501-1.758l-8.184 1.448a2.168 2.168 0 0 0-1.753 2.513l1.443 8.213a2.16 2.16 0 0 0 2.502 1.759l2.291-.406.156-.029z",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M100.634 403.778c1.868-.33 3.177-1.494 3.317-3.185l.009-.128c.08-1.667 1.489-3.74 3.07-4.613l.125-.067c1.564-.795 2.338-2.11 2.031-3.851a.5.5 0 0 0-.985.173c.218 1.235-.27 2.119-1.382 2.725l-.118.062c-1.896.965-3.563 3.33-3.73 5.38l-.01.143c-.06 1.244-1.01 2.112-2.501 2.376a.5.5 0 0 0 .174.985z",transform:"translate(354 204)"}),i.jsx("path",{d:"M105.25 393a.25.25 0 1 1-.5 0 .25.25 0 0 1 .5 0",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M105.75 393a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-1 0a.25.25 0 1 0 .5 0 .25.25 0 0 0-.5 0z",transform:"translate(354 204)"}),i.jsx("path",{d:"M99.25 394.5a.25.25 0 1 1-.5 0 .25.25 0 0 1 .5 0",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M99.75 394.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-1 0a.25.25 0 1 0 .5 0 .25.25 0 0 0-.5 0zm3.144 4.771c-1.034-.31-1.835-.95-2.189-1.728a.5.5 0 1 0-.91.414c.48 1.056 1.515 1.883 2.811 2.272a.5.5 0 0 0 .288-.958z",transform:"translate(354 204)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("StickersOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs("g",{children:[i.jsx("path",{fillRule:"nonzero",d:"m101.952 213.438-2.87.501c-2.212.386-4.324-1.08-4.716-3.279l-1.803-10.126c-.393-2.202 1.09-4.3 3.305-4.686l10.235-1.787c2.213-.386 4.324 1.08 4.716 3.279l.503 2.825c1.11 6.233-3.087 12.176-9.37 13.273zm-.086-1.51c5.372-1.031 8.934-6.144 7.98-11.5l-.504-2.825c-.246-1.383-1.58-2.31-2.981-2.064l-10.235 1.787c-1.4.244-2.333 1.564-2.086 2.945l1.803 10.126c.246 1.383 1.58 2.309 2.981 2.064l2.87-.5.172-.032z",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M100.313 213.724c2.395-.418 4.083-1.903 4.253-4.072l.01-.139c.097-2.012 1.845-4.54 3.792-5.59l.13-.067c2.003-1.006 3.004-2.684 2.61-4.896a.75.75 0 0 0-1.477.263c.26 1.465-.323 2.502-1.677 3.226l-.13.067c-2.417 1.214-4.536 4.188-4.737 6.773l-.01.151c-.07 1.463-1.21 2.49-3.022 2.806a.75.75 0 1 0 .258 1.478z",transform:"translate(354 204)"}),i.jsx("path",{d:"M106.25 200.75a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M107 200.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zm-1.5 0a.25.25 0 0 0 .5 0 .25.25 0 0 0-.5 0z",transform:"translate(354 204)"}),i.jsx("path",{d:"M98.75 202.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0",transform:"translate(354 204)"}),i.jsx("path",{fillRule:"nonzero",d:"M99.5 202.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zm-1.5 0a.25.25 0 0 0 .5 0 .25.25 0 0 0-.5 0zm3.682 5.522c-1.157-.289-2.053-.865-2.47-1.539l-.054-.092a.75.75 0 1 0-1.316.718c.611 1.12 1.89 1.972 3.476 2.369a.75.75 0 1 0 .364-1.456z",transform:"translate(354 204)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("StoriesCheckmarkCircleFilled20IconSVG.react",["CheckmarkCircleFilled20.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("CheckmarkCircleFilled20.svg.react"));g["default"]=a}),98);
__d("StoriesFeedbackConsolidatedStickerPickerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7131142556962543"}),null);
__d("StoriesFeedbackConsolidatedStickerPickerRootQuery$Parameters",["StoriesFeedbackConsolidatedStickerPickerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("StoriesFeedbackConsolidatedStickerPickerRootQuery_facebookRelayOperation"),metadata:{},name:"StoriesFeedbackConsolidatedStickerPickerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("StoriesFeedbackConsolidatedStickerPickerRoot.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","StoriesFeedbackConsolidatedStickerPickerRootQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("StoriesFeedbackConsolidatedStickerPickerRoot.react").__setRef("StoriesFeedbackConsolidatedStickerPickerRoot.entrypoint");b={getPreloadProps:function(a){var b=a.flyoutTagsCount;a=a.flyoutTagsCursor;b={count:b,cursor:a};a=80;var e=80,f=d("WebPixelRatio").get();return{entryPoints:{flyoutTagSelectorEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:b})},extraProps:{scale:f,stickerHeight:a,stickerWidth:e},queries:{storiesFeedbackStickerQueryRef:{parameters:c("StoriesFeedbackConsolidatedStickerPickerRootQuery$Parameters"),variables:{mediaWidth:98,queryType:"TRENDING",resultTypes:["ANIMATION"],scale:f,stickerHeight:a,stickerWidth:e}}}}},root:a};e=b;g["default"]=e}),98);
__d("StoriesStickersFilled20IconSVG.react",["SVGIcon","StickersFilled20.svg.react"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("StickersFilled20.svg.react"));g["default"]=a}),98);
__d("StoriesStickersOutline16IconSVG.react",["SVGIcon","StickersOutline16.svg.react"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("StickersOutline16.svg.react"));g["default"]=a}),98);
__d("StoriesStickersOutline20IconSVG.react",["SVGIcon","StickersOutline20.svg.react"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("StickersOutline20.svg.react"));g["default"]=a}),98);
__d("StoriesFeedbackConsolidatedStickerPicker.react",["fbt","CometEntryPointPopoverTrigger.react","CometPressable.react","StoriesFeedbackConsolidatedStickerPickerRoot.entrypoint","StoriesFeedbackFlowTypes","StoriesLoggerContext","StoriesPauseReasons","StoriesStickersFilled20IconSVG.react","StoriesStickersOutline16IconSVG.react","StoriesStickersOutline20IconSVG.react","StoriesSuspensePauseContext","TetraIcon.react","react","react-forget-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useContext;var k=b.useState,l=b.c,m=10;function a(a){var b=l(21),e=a.isStoriesSingleBucketFeedUnit,f=a.onEmojiSelect,g=a.onGifSelect,i=a.onStickerSelect,p=a.onVisibilityChange,q=e===void 0?!1:e;a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("StoriesLoggerContext"),o);var r=a.logger;e=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("StoriesSuspensePauseContext"),n);var s=e.setPause;a=k(!1);var t=a[0],u=a[1],v;b[0]!==q||b[1]!==t?(q?v=j.jsx(c("TetraIcon.react"),{color:t?"highlight":"secondary",icon:c("StoriesStickersOutline16IconSVG.react"),size:16}):v=j.jsx(c("TetraIcon.react"),{color:"white",icon:t?c("StoriesStickersFilled20IconSVG.react"):c("StoriesStickersOutline20IconSVG.react"),size:20}),b[0]=q,b[1]=t,b[2]=v):v=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e={flyoutTagsCount:m},b[3]=e):e=b[3];b[4]!==s||b[5]!==p?(a=function(a){a||(s(!1,d("StoriesPauseReasons").CLICK_STICKER_SELECTOR),u(!1)),p&&p(a)},b[4]=s,b[5]=p,b[6]=a):a=b[6];var w;b[7]!==f||b[8]!==g||b[9]!==i?(w={onEmojiSelect:f,onGifSelect:g,onStickerSelect:i,withArrow:!0},b[7]=f,b[8]=g,b[9]=i,b[10]=w):w=b[10];f=v;b[11]!==r||b[12]!==s||b[13]!==t||b[14]!==q||b[15]!==f?(g=function(a,b,e,f,g,i){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Gul6JBmuMfh__JHASH__"),onHoverIn:f,onHoverOut:g,onPress:function(){r.clickInteractiveFeedbackReplyButtonLog(d("StoriesFeedbackFlowTypes").StickerReplyTypes.STICKER),s(!t,d("StoriesPauseReasons").CLICK_STICKER_SELECTOR),t?e():b(),u(!t)},onPressIn:i,overlayDisabled:q,ref:a,children:v})},b[11]=r,b[12]=s,b[13]=t,b[14]=q,b[15]=f,b[16]=g):g=b[16];b[17]!==a||b[18]!==w||b[19]!==g?(i=j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:e,onVisibilityChange:a,otherProps:w,popoverEntryPoint:c("StoriesFeedbackConsolidatedStickerPickerRoot.entrypoint"),position:"above",preloadTrigger:"button",children:g}),b[17]=a,b[18]=w,b[19]=g,b[20]=i):i=b[20];return i}function n(a){return[a.setPause]}function o(a){return[a.logger]}g["default"]=a}),226);
__d("StoriesFeedbackEditorStateContext",["DeferredDraftEditorDEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={contextualReplyRef:{current:null},contextualReplyShown:!1,contextualReplyTapped:!1,editorState:c("DeferredDraftEditorDEPRECATED.react").createEmptyComposerState(),inputFocused:!1,mostRecentTappedID:null,onEmojiSelect:function(a){},onFocus:function(){},onTextInputFocused:function(a){},resetEditorState:function(){},setContextualReplyShown:function(a){},setContextualReplyTapped:function(a){},setEditorState:function(a){},setInputFocused:function(a){},setMostRecentTappedID:function(a){},setShowLWR:function(a){},showLWR:!1,textInputFocused:{current:!1}};e=a.createContext(b);g["default"]=e}),98);
__d("useStoriesFeedbackEditorState",["DeferredDraftEditorDEPRECATED.react","EditorState","EmojiInputDecorator","EmojiSpan.react","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState,l=b.c,m=function(){var a=c("DeferredDraftEditorDEPRECATED.react").createEmptyComposerState();if(a.__type==="editor-state-based"){var b=a.draftEditorState.getDecorator();(b==null||b.getComponentForKey("EmojiInputDecorator"))&&(a=babelHelpers["extends"]({},a,{draftEditorState:c("EditorState").set(a.draftEditorState,{decorator:new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),b,{size:16})})}))}return a};function a(a){var b=l(13),d=k(n),e=d[0],f=d[1];if(b[0]!==a||b[1]!==e){d=(d={},d[a]=e,d);b[0]=a;b[1]=e;b[2]=d}else d=b[2];var g=j(d),h=c("usePrevious")(a),o;b[3]!==a||b[4]!==h||b[5]!==e?(d=function(){a!==h&&(g.current[a]==null&&(g.current[a]=m()),h!=null&&(g.current[h]=e),f(g.current[a]))},o=[a,e,h],b[3]=a,b[4]=h,b[5]=e,b[6]=d,b[7]=o):(d=b[6],o=b[7]);i(d,o);b[8]!==a?(d=function(){g.current[a]=m(),f(g.current[a])},b[8]=a,b[9]=d):d=b[9];o=d;b[10]!==e||b[11]!==o?(d={editorState:e,resetEditorState:o,setEditorState:f},b[10]=e,b[11]=o,b[12]=d):d=b[12];return d}function n(){return m()}g["default"]=a}),98);
__d("StoriesFeedbackEditorStateContextProvider.react",["DraftModifier","EditorState","StoriesFeedbackEditorStateContext","StoriesGating","StoriesPauseReasons","react","useStoriesFeedbackEditorState","useStoriesShowEpdBlockToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useRef,k=b.useState,l=b.c;function a(a){var b=l(23),e=a.cardID,f=a.children,g=a.setPause;a=c("useStoriesFeedbackEditorState")(e);var h=a.editorState;e=a.resetEditorState;var m=a.setEditorState;a=k(!1);var n=a[0],o=a[1],p=j(!1);a=j(null);var q=k(!0),r=q[0],s=q[1];q=k(!1);var t=q[0];q=q[1];var u=k(!1),v=u[0];u=u[1];var w=k(null),x=w[0];w=w[1];var y=c("useStoriesShowEpdBlockToast")(),z;b[0]!==y?(z=function(a){a&&(d("StoriesGating").allowedByEPDClientFeatureBlock()||y(),s(!1)),p.current=a},b[0]=y,b[1]=z):z=b[1];var A=z;b[2]!==g||b[3]!==A?(z=function(){g(!0,d("StoriesPauseReasons").FOCUSE_ON_INPUT),o(!0),A(!0)},b[2]=g,b[3]=A,b[4]=z):z=b[4];z=z;var B;b[5]!==h||b[6]!==m?(B=function(a){a=a.reduce(function(a,b){b=String.fromCodePoint(b);var c=a&&a[a.length-1];return c&&c.includes(b)?a:[].concat(a,[b])},[]).join("");if((h==null?void 0:h.__type)==="editor-state-based"){var b=c("DraftModifier").replaceText(h.draftEditorState.getCurrentContent(),h.draftEditorState.getSelection(),a);b=babelHelpers["extends"]({},h,{draftEditorState:c("EditorState").push(h.draftEditorState,b,"insert-characters")})}else b=babelHelpers["extends"]({},h,{text:a});m(b)},b[5]=h,b[6]=m,b[7]=B):B=b[7];B=B;b[8]!==v||b[9]!==t||b[10]!==h||b[11]!==n||b[12]!==x||b[13]!==B||b[14]!==z||b[15]!==A||b[16]!==e||b[17]!==m||b[18]!==r?(a={contextualReplyRef:a,contextualReplyShown:v,contextualReplyTapped:t,editorState:h,inputFocused:n,mostRecentTappedID:x,onEmojiSelect:B,onFocus:z,onTextInputFocused:A,resetEditorState:e,setContextualReplyShown:u,setContextualReplyTapped:q,setEditorState:m,setInputFocused:o,setMostRecentTappedID:w,setShowLWR:s,showLWR:r,textInputFocused:p},b[8]=v,b[9]=t,b[10]=h,b[11]=n,b[12]=x,b[13]=B,b[14]=z,b[15]=A,b[16]=e,b[17]=m,b[18]=r,b[19]=a):a=b[19];u=a;q=u;b[20]!==q||b[21]!==f?(w=i.jsx(c("StoriesFeedbackEditorStateContext").Provider,{value:q,children:f}),b[20]=q,b[21]=f,b[22]=w):w=b[22];return w}g["default"]=a}),98);
__d("StoryReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:"unknown",TEXT:"text",LIGHT_WEIGHT:"light_weight",MEDIA:"media",STICKER:"sticker",GIF:"gif",PHOTO:"photo",VIDEO:"video",POLL_VOTE:"poll_vote",QUIZ_VOTE:"quiz_vote",SLIDER_VOTE:"slider_vote",REACTION_STICKER_REACT:"reaction_sticker_react",CONTEXTUAL_REPLY:"contextual_reply",AUDIO:"audio",PREDICTION_STICKER_VOTE:"prediction_sticker_vote",AVATAR_LIGHT_WEIGHT:"avatar_light_weight",EMOJI_LIGHT_WEIGHT:"emoji_light_weight",AVATAR_AUDIO:"avatar_audio"});f["default"]=a}),66);
__d("storiesTestDisplay",["StoriesGating","cr:1014646"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(b("cr:1014646")===null||!d("StoriesGating").isTest())return;a=b("cr:1014646").create("div",{"data-testid":"test_display",style:"position:fixed"},a);var c=document.body;c!=null&&c.appendChild(a)}g["default"]=a}),98);
__d("storiesUpdateSeenStateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5127393270671537"}),null);
__d("storiesUpdateSeenStateMutation.graphql",["storiesUpdateSeenStateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},h={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"storiesUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"DirectMessageThreadUpdateSeenStateResponsePayload",kind:"LinkedField",name:"direct_message_thread_update_seen_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bucket",plural:!1,selections:[d,e,{args:null,kind:"FragmentSpread",name:"useStoriesRectangularStoryThumbnail_bucket"},f,g],storageKey:null},h],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"storiesUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"DirectMessageThreadUpdateSeenStateResponsePayload",kind:"LinkedField",name:"direct_message_thread_update_seen_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bucket",plural:!1,selections:[d,e,{kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:277},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:156}],concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null},f,g],storageKey:null},h],storageKey:null}]},params:{id:b("storiesUpdateSeenStateMutation_facebookRelayOperation"),metadata:{},name:"storiesUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("storiesUpdateSeenStateMutation",["CometRelay","WebPixelRatio","cr:1231509","storiesUpdateSeenStateMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("storiesUpdateSeenStateMutation.graphql");function a(a,c,e,f,g){b("cr:1231509")!=null&&b("cr:1231509").updateThreadSeenOptimistic(e);var h=function(a){var b=a.get(c);if(b!=null){if(f!=null){var d=a.get(f);d!=null&&b.setLinkedRecord(d,"first_story_to_show")}b.setValue(g,"is_bucket_seen_by_viewer")}d=a.get(e);if(d!=null){b=d.getLinkedRecord("story_card_seen_state");b!=null&&b.setValue(!0,"is_seen_by_viewer")}};d("CometRelay").commitMutation(a,{mutation:i,optimisticUpdater:h,variables:{input:{bucket_id:c,story_id:e},scale:d("WebPixelRatio").get()}})}g["default"]=a}),98);
__d("useStoriesFeedbackKeyboardCommandsConfig",["fbt","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");b.useMemo;var j=b.c;function a(a){var b=j(11),d=a.onEnter;a=a.onEscape;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={key:c("CometKeys").ENTER},f=h._("__JHASH__ZOsLdvFT0t4__JHASH__"),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==d?(e={command:e,description:f,handler:d,triggerFromInputs:!0},b[2]=d,b[3]=e):e=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f={key:c("CometKeys").ESCAPE},d=h._("__JHASH__zUDBBHitgeo__JHASH__"),b[4]=f,b[5]=d):(f=b[4],d=b[5]);b[6]!==a?(f={command:f,description:d,handler:a,triggerFromInputs:!0},b[6]=a,b[7]=f):f=b[7];b[8]!==e||b[9]!==f?(d=[e,f],b[8]=e,b[9]=f,b[10]=d):d=b[10];a=d;return a}g["default"]=a}),226);
__d("useStoriesReplyWithArmadillo_armadillo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesReplyWithArmadillo_armadillo",selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_id",storageKey:null},{alias:null,args:null,concreteType:"StoryCardPermalinkInfo",kind:"LinkedField",name:"permalink_info",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_thread_expiration_time",storageKey:null}],type:"StoryCardStoryInfo",abstractKey:null}}();e.exports=a}),null);
__d("useStoriesSendReplyMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4826141330837571"}),null);
__d("useStoriesSendReplyMutation.graphql",["useStoriesSendReplyMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useStoriesSendReplyMutation",selections:[{alias:null,args:c,concreteType:"DirectMessageReplyResponsePayload",kind:"LinkedField",name:"direct_message_reply",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardReactionSent_cardInfo"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useStoriesSendReplyMutation",selections:[{alias:null,args:c,concreteType:"DirectMessageReplyResponsePayload",kind:"LinkedField",name:"direct_message_reply",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"StoryCardReactionsConnection",kind:"LinkedField",name:"story_card_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerMontageMessageReaction",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"MessengerMontageMessageActionsOfReactionConnection",kind:"LinkedField",name:"messaging_actions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:"last5",args:[{kind:"Literal",name:"last",value:5}],concreteType:"MessengerMontageMessageActionsOfReactionConnection",kind:"LinkedField",name:"messaging_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerMontageMessageActionsOfReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerMontageMessageAction",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"messaging_actions(last:5)"},e],storageKey:null}],storageKey:null}],storageKey:"story_card_reactions(first:10)"}],storageKey:null},e],storageKey:null}],storageKey:null}]},params:{id:b("useStoriesSendReplyMutation_facebookRelayOperation"),metadata:{},name:"useStoriesSendReplyMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useStoriesShowSentTextToast",["fbt","StoriesCheckmarkCircleFilled20IconSVG.react","TetraIcon.react","cometPushToast","react","useToasterStateManager"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a,b){var e=j(7),f=c("useToasterStateManager")(),g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("TetraIcon.react"),{color:"highlight",icon:c("StoriesCheckmarkCircleFilled20IconSVG.react"),size:20}),e[0]=g):g=e[0];var i=g;e[1]!==b||e[2]!==a?(g=b===!0?h._("__JHASH__UX95e_k-8XA__JHASH__",[h._param("Story's Page's name",a)]):h._("__JHASH__4chvTfnLMSL__JHASH__",[h._param("Story's owner's name",a)]),e[1]=b,e[2]=a,e[3]=g):g=e[3];var l=g;e[4]!==l||e[5]!==f?(b=function(){d("cometPushToast").cometPushToast({icon:i,message:l},void 0,f)},e[4]=l,e[5]=f,e[6]=b):b=e[6];return b}g["default"]=a}),226);
__d("useStoriesSendReply",["CometRelay","StoriesActorContext","StoriesGating","StoriesLoggingConstants","StoryReplyType","cometPushToast","react","react-forget-runtime","useMinifiedProductAttribution","useStoriesSendReplyMutation.graphql","useStoriesShowSentTextToast","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useContext;e.useMemo;var j=e.c,k=function(a,b,d){var e=a.get(b.storyID);e=e&&e.getLinkedRecord("story_card_info");e=e&&e.getLinkedRecord("story_card_reactions",{first:10});if(e==null)return;var f=null,g=null,h=null,i=e.getLinkedRecords("edges");if(i==null||i.length===0){var j,k=a.create("client:newNode:"+(j=c("uuidv4"))(),"MessagingActor");k.setValue(d,"id");k.setValue("User","__typename");d=a.create("client:newNode:"+j(),"MessengerMontageMessageActionsOfReactionConnection");h=[];d.setLinkedRecords(h,"edges");g=d;var l=a.create("client:newNode:"+j(),"MessengerMontageMessageReaction");l.setLinkedRecord(k,"messaging_actor");l.setLinkedRecord(d,"messaging_actions");f=l;k=a.create("client:newNode:"+j(),"StoryCardReactionsEdge");k.setLinkedRecord(l,"node");i=[k];e.setLinkedRecords(i,"edges")}else f=i[0]&&i[0].getLinkedRecord("node"),g=f&&f.getLinkedRecord("messaging_actions"),h=g&&g.getLinkedRecords("edges");if(g==null||h==null||f==null)return;d=a.create("client:newNode:"+c("uuidv4")(),"MessengerMontageMessageAction");d.setValue(b.unicode,"reaction");j=a.create("client:newNode:"+c("uuidv4")(),"MessengerMontageMessageActionsOfReactionEdge");j.setLinkedRecord(d,"node");h.push(j);g.setLinkedRecords(h,"edges");g.setValue(h.length,"count")},l=h!==void 0?h:h=b("useStoriesSendReplyMutation.graphql");function m(a){var b;return(b=Object.keys(c("StoryReplyType")).find(function(b){return c("StoryReplyType")[b]===a}))!=null?b:"UNKNOWN"}function a(a,b){var e=j(21),f=d("CometRelay").useRelayEnvironment(),g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("StoriesActorContext"),n),h=g.actorID,i=c("useMinifiedProductAttribution")(),o=c("useStoriesShowSentTextToast")(a,b);e[0]!==f||e[1]!==o||e[2]!==i?(g=function(a,b){return d("CometRelay").commitMutation(f,{mutation:l,onCompleted:function(a,d){o(),b.replyAttemptCompletedLog(c("StoryReplyType").GIF,d==null?null:d[0])},onError:function(a){b.replyAttemptCompletedLog(c("StoryReplyType").GIF,a)},variables:{input:{attribution_id_v2:i,gif_url:a.gifUrl,story_id:a.storyID,story_reply_type:m(c("StoryReplyType").GIF)}}})},e[0]=f,e[1]=o,e[2]=i,e[3]=g):g=e[3];a=g;e[4]!==f||e[5]!==h||e[6]!==i?(b=function(a,b){return d("CometRelay").commitMutation(f,{mutation:l,onCompleted:function(a,d){b.replyAttemptCompletedLog(c("StoryReplyType").LIGHT_WEIGHT,d==null?null:d[0])},onError:function(a){b.replyAttemptCompletedLog(c("StoryReplyType").LIGHT_WEIGHT,a)},optimisticUpdater:function(b){return k(b,a,h)},variables:{input:{attribution_id_v2:i,lightweight_reaction_actions:{offsets:[a.timeOffset||0],reaction:a.unicode},message:a.unicode,story_id:a.storyID,story_reply_type:m(c("StoryReplyType").LIGHT_WEIGHT)}}})},e[4]=f,e[5]=h,e[6]=i,e[7]=b):b=e[7];g=b;e[8]!==f||e[9]!==o||e[10]!==i?(b=function(a,b){var e=a.isContextualReply===!0?c("StoryReplyType").CONTEXTUAL_REPLY:c("StoryReplyType").STICKER;return d("CometRelay").commitMutation(f,{mutation:l,onCompleted:function(a,c){o();b.replyAttemptCompletedLog(e,c==null?null:c[0]);a=c==null;d("StoriesGating").isTest()&&a&&d("cometPushToast").cometPushSimpleToast("sticker reply successful")},onError:function(a){b.replyAttemptCompletedLog(e,a)},variables:{input:{attribution_id_v2:i,sticker_id:a.stickerID,story_id:a.storyID,story_reply_type:m(e)}}})},e[8]=f,e[9]=o,e[10]=i,e[11]=b):b=e[11];b=b;var p;e[12]!==f||e[13]!==o||e[14]!==i?(p=function(a,b,e,g){e.replyLog(c("StoriesLoggingConstants").ACTION_TYPE.SEND_REPLY_ATTEMPT);var h=b===!0?c("StoryReplyType").CONTEXTUAL_REPLY:c("StoryReplyType").TEXT;return d("CometRelay").commitMutation(f,{mutation:l,onCompleted:function(a,b){o();e.replyAttemptCompletedLog(h,b==null?null:b[0]);g&&g(b);a=b==null;d("StoriesGating").isTest()&&a&&d("cometPushToast").cometPushSimpleToast("text reply successful")},onError:function(a){e.replyAttemptCompletedLog(h,a)},variables:{input:{attribution_id_v2:i,message:a.message,story_id:a.storyID,story_reply_type:m(h)}}})},e[12]=f,e[13]=o,e[14]=i,e[15]=p):p=e[15];p=p;var q;e[16]!==a||e[17]!==g||e[18]!==b||e[19]!==p?(q={sendGif:a,sendLWR:g,sendSticker:b,sendText:p},e[16]=a,e[17]=g,e[18]=b,e[19]=p,e[20]=q):q=e[20];a=q;return a}function n(a){return[a.actorID]}g["default"]=a}),98);
__d("useStoriesReplyWithArmadillo.react",["CometRelay","I64","LSDatabaseSingleton","LSIntEnum","LSThreadAttributionTypeUtil","MAWChatJid","MAWThreadId","MWSharedMsgLogUtils","MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred","Promise","StoriesFeedbackEditorStateContext","StoriesGating","StoriesLoggerContext","WAArmadilloXMA.pb","asyncToGeneratorRuntime","cr:387","cr:4147","promiseDone","react","react-forget-runtime","sendToSentQPLLogger","storiesTestDisplay","useLSMessagingSource","useReStore","useStoriesReplyWithArmadillo_armadillo.graphql","useStoriesSendReply","useStoriesShowEpdBlockToast","useStoriesShowSentTextToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;e=n||d("react");e.useContext;var o=e.c,p=h!==void 0?h:h=b("useStoriesReplyWithArmadillo_armadillo.graphql");function a(a){var e=o(24),f=a.armadilloStoryReplyMeta,g=a.cardID,h=a.isPage,n=a.ownerName,s=a.source,t=a.userId;a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("StoriesLoggerContext"),r);var u=a.logger;a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("StoriesFeedbackEditorStateContext"),q);var v=a.contextualReplyTapped,w=c("useStoriesShowSentTextToast")(n,h);a=c("useStoriesSendReply")(n,h);var x=a.sendText,y=c("useStoriesShowEpdBlockToast")();n=d("CometRelay").useFragment(p,f);var z=n==null?void 0:(a=n.story_thumbnail)==null?void 0:a.uri,A=n==null?void 0:n.reply_thread_expiration_time,B=n==null?void 0:(f=n.permalink_info)==null?void 0:f.uri,C=n==null?void 0:n.story_card_id,D=(j||(j=c("useReStore")))(),E=c("useLSMessagingSource")();e[0]!==x||e[1]!==g||e[2]!==v||e[3]!==u?(a=function(a,b){return x({message:a,storyID:g},v,u,function(a){if(a==null||a.length===0)c("storiesTestDisplay")("text reply mutation successful");else{a=a.map(function(a){return a.message}).join("\n");d("sendToSentQPLLogger").markSendToSentFail(b,"story_reply_send_fail",new Error(a));return}d("sendToSentQPLLogger").markSendToSentPoint(b,"received_successful_server_ack");d("sendToSentQPLLogger").markSendToSentSuccess(b)})},e[0]=x,e[1]=g,e[2]=v,e[3]=u,e[4]=a):a=e[4];var F=a;e[5]!==t||e[6]!==B||e[7]!==z||e[8]!==A||e[9]!==C||e[10]!==s||e[11]!==w?(f=function(a,e){b("cr:387")!=null&&c("promiseDone")(b("cr:387").load().then(function(b){b=b.sendStoryReply;return b(t,B,z,a,A,C,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY,void 0,s,e)}).then(function(){d("sendToSentQPLLogger").markSendToSentSuccess(e);return w()})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentFail(e,"story_reply_send_fail",a)}))},e[5]=t,e[6]=B,e[7]=z,e[8]=A,e[9]=C,e[10]=s,e[11]=w,e[12]=f):f=e[12];var G=f;e[13]!==C||e[14]!==D||e[15]!==E?(n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(C==null)return;var e=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(D.tables,(k||(k=d("I64"))).of_string(C)));if(e==null)return;var f=(yield d("MAWThreadId").getThreadFromJid(D.tables,e));if(f==null)return;a=d("MWSharedMsgLogUtils").getMessageTypeParams({messageText:a,threadType:f.threadType});a.hasStoryReply=!0;e=d("LSThreadAttributionTypeUtil").getSource(e,E);c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(f,a,(m||(m=d("LSIntEnum"))).unwrapIntEnum(e)),function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(b,a)})});return function(b,c){return a.apply(this,arguments)}}(),e[13]=C,e[14]=D,e[15]=E,e[16]=n):n=e[16];var H=n;e[17]!==y||e[18]!==H||e[19]!==t||e[20]!==h||e[21]!==G||e[22]!==F?(a=function(a){if(!d("StoriesGating").allowedByEPDClientFeatureBlock()){y();return}var e=d("sendToSentQPLLogger").markSendToSentStart();c("promiseDone")(H(a,e));c("promiseDone")(new(i||(i=b("Promise")))(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var f=(yield (i||(i=b("Promise"))).all([b("cr:4147")!=null?b("cr:4147").load():(i||(i=b("Promise"))).resolve(null),c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").load()])),g=f[0];f=f[1];g=(yield i.allSettled([g!=null?g.verifyThreadCutoverWithStringInput((l||(l=d("LSDatabaseSingleton"))).LSDatabaseSingleton,t):(i||(i=b("Promise"))).resolve(!1),t==null?(i||(i=b("Promise"))).resolve(null):f({isTargetE2E:!1,targetID:t,targetType:h?"PAGE":"USER"},(l||(l=d("LSDatabaseSingleton"))).LSDatabaseSingleton)]));f=g[0];g=g[1];f=f.status==="fulfilled"&&f.value;g=g.status==="fulfilled"&&((g=g.value)==null?void 0:g.isTargetE2E)===!0;f=f||g;d("sendToSentQPLLogger").addSendToSentAnnotations(e,{string:{thread_type:""+(f?15:1)}});f?G(a,e):F(a,e)})))},e[17]=y,e[18]=H,e[19]=t,e[20]=h,e[21]=G,e[22]=F,e[23]=a):a=e[23];return a}function q(a){return[a.contextualReplyTapped]}function r(a){return[a.logger]}g["default"]=a}),98);